<div class="admin-card">
  <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
    <h2>🎮 Game Event Details</h2>

    <%= form_with url: admin_game_event_path(@game_event), method: :post, local: true, style: "display: inline;" do |form| %>
      <%= form.hidden_field :action_type, value: 'delete' %>
      <%= form.submit "🗑️",
                      class: "btn btn-sm btn-danger",
                      data: { confirm: "Are you sure you want to delete this game event?" } %>
    <% end %>
  </div>

  <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-bottom: 2rem;">
    <div>
      <h3>Event Information</h3>
      <table class="table">
        <tr>
          <td><strong>ID:</strong></td>
          <td><%= @game_event.id %></td>
        </tr>
        <tr>
          <td><strong>User:</strong></td>
          <td><%= link_to @game_event.user.email, admin_user_path(@game_event.user) %></td>
        </tr>
        <tr>
          <td><strong>Game:</strong></td>
          <td><%= @game_event.game_name %></td>
        </tr>
        <tr>
          <td><strong>Event Type:</strong></td>
          <td><%= @game_event.event_type %></td>
        </tr>
        <tr>
          <td><strong>Occurred At:</strong></td>
          <td><%= @game_event.occurred_at.strftime("%Y-%m-%d %H:%M:%S") %></td>
        </tr>
        <tr>
          <td><strong>Created:</strong></td>
          <td><%= @game_event.created_at.strftime("%Y-%m-%d %H:%M:%S") %></td>
        </tr>
        <tr>
          <td><strong>Updated:</strong></td>
          <td><%= @game_event.updated_at.strftime("%Y-%m-%d %H:%M:%S") %></td>
        </tr>
      </table>
    </div>
  </div>

  <div style="margin-top: 2rem; display: flex; justify-content: space-between; align-items: center;">
    <div>
      <%= link_to "← Back to Game Events", admin_game_events_path, class: "btn btn-secondary" %>
      <%= link_to "Edit Event", edit_admin_game_event_path(@game_event), class: "btn btn-primary" %>
    </div>

        <div style="display: flex; gap: 0.5rem;">
      <% if @prev_event %>
        <%= link_to "← Previous (#{@prev_event.id})", admin_game_event_path(@prev_event), class: "btn btn-secondary", id: "prev-event" %>
      <% end %>

      <% if @next_event %>
        <%= link_to "Next (#{@next_event.id}) →", admin_game_event_path(@next_event), class: "btn btn-secondary", id: "next-event" %>
      <% end %>
    </div>
  </div>

  <% if @prev_event || @next_event %>
    <script>
      document.addEventListener('keydown', function(event) {
        if (event.target.tagName === 'INPUT' || event.target.tagName === 'TEXTAREA') return;

        if (event.key === 'ArrowLeft' && document.getElementById('prev-event')) {
          document.getElementById('prev-event').click();
        } else if (event.key === 'ArrowRight' && document.getElementById('next-event')) {
          document.getElementById('next-event').click();
        }
      });
    </script>
  <% end %>
</div>
